{"version":3,"file":"index.es.js","sources":["../src/array.ts","../src/function.ts"],"sourcesContent":["/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n/**\n * a with x prepended\n */\nexport function cons <A>(x: A, a: ArrayLike<A>): A[] {\n  const l = a.length\n  const b = new Array(l + 1)\n  b[0] = x\n  for (let i = 0; i < l; ++i) {\n    b[i + 1] = a[i]\n  }\n  return b\n}\n\n/**\n * a with x appended\n */\nexport function append <A>(x: A, a: ArrayLike<A>): A[] {\n  const l = a.length\n  const b = new Array(l + 1)\n  for (let i = 0; i < l; ++i) {\n    b[i] = a[i]\n  }\n\n  b[l] = x\n  return b\n}\n\n/**\n * Concats two `ArrayLike`s\n */\nexport function concat <A>(a: ArrayLike<A>, b: ArrayLike<A>): A[] {\n  const al = a.length\n  const bl = b.length\n  const r = new Array(al + bl)\n  let i = 0\n  for (i = 0; i < al; i++) {\n    r[i] = a[i]\n  }\n  for (let j = 0; j < bl; j++) {\n    r[i++] = b[j]\n  }\n  return r\n}\n\n//\n/**\n * drop first n elements\n */\nexport function drop <A>(n: number, a: A[]): A[] {\n  if (n < 0) {\n    throw new TypeError('n must be >= 0')\n  }\n\n  const l = a.length\n  if (n === 0 || l === 0) {\n    return a\n  }\n\n  if (n >= l) {\n    return []\n  }\n\n  return unsafeDrop(n, a, l - n)\n}\n\n/**\n * Internal helper for drop\n */\nfunction unsafeDrop <A>(n: number, a: ArrayLike<A>, l: number): A[] {\n  const b = new Array(l)\n  for (let i = 0; i < l; ++i) {\n    b[i] = a[n + i]\n  }\n  return b\n}\n\n/**\n * drop head element\n */\nexport function tail <A>(a: A[]): A[] {\n  return drop(1, a)\n}\n\n/**\n * duplicate a (shallow duplication)\n */\nexport function copy <A>(a: ArrayLike<A>): A[] {\n  const l = a.length\n  const b = new Array(l)\n  for (let i = 0; i < l; ++i) {\n    b[i] = a[i]\n  }\n  return b\n}\n\n/**\n * transform each element with f\n */\nexport function map <A, B>(f: (a: A) => B, a: ArrayLike<A>): B[] {\n  const l = a.length\n  const b = new Array(l)\n  for (let i = 0; i < l; ++i) {\n    b[i] = f(a[i])\n  }\n  return b\n}\n\n/**\n * accumulate via left-fold\n */\nexport function reduce <A, B>(f: (a: A, b: B, i: number) => A, z: A, a: ArrayLike<B>): A {\n  let r = z\n  for (let i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i)\n  }\n  return r\n}\n\n/**\n * replace element at index\n */\nexport function replace <A>(x: A, i: number, a: ArrayLike<A>): A[] {\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  const l = a.length\n  const b = new Array(l)\n  for (let j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j]\n  }\n  return b\n}\n\n/**\n * remove element at index\n * @throws\n */\nexport function remove <A>(i: number, a: A[]): A[] {\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  const l = a.length\n  if (l === 0 || i >= l) { // exit early if index beyond end of array\n    return a\n  }\n\n  if (l === 1) { // exit early if index in bounds and length === 1\n    return []\n  }\n\n  return unsafeRemove(i, a, l - 1)\n}\n\n/**\n * Internal helper to remove element at index\n */\nfunction unsafeRemove <A>(i: number, a: ArrayLike<A>, l: number): A[] {\n  const b = new Array(l)\n  let j\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j]\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1]\n  }\n\n  return b\n}\n\n/**\n * remove all elements matching a predicate\n * @deprecated\n */\nexport function removeAll <A>(f: (a: A) => boolean, a: ArrayLike<A>): A[] {\n  const l = a.length\n  const b = new Array(l)\n  let j = 0\n  for (let x, i = 0; i < l; ++i) {\n    x = a[i]\n    if (!f(x)) {\n      b[j] = x\n      ++j\n    }\n  }\n\n  b.length = j\n  return b\n}\n\n/**\n * find index of x in a, from the left\n */\nexport function findIndex <A>(x: A, a: ArrayLike<A>): number {\n  for (let i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i\n    }\n  }\n  return -1\n}\n\n/**\n * Return true iff x is array-like\n */\nexport function isArrayLike(x: any): x is ArrayLike<unknown> {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function'\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nexport const id = <A>(x: A): A => x\n\nexport const compose = <A, B, C>(f: (b: B) => C, g: (a: A) => B) => (x: A): C => f(g(x))\n\nexport const apply = <A, B>(f: (a: A) => B, x: A): B => f(x)\n\nexport interface Curried2<A, B, C> {\n  (): Curried2<A, B, C>\n  (a: A, b: B): C\n  (a: A): (b: B) => C\n}\n\nexport function curry2 <A, B, C>(f: (a: A, b: B) => C): Curried2<A, B, C> {\n  function curried(a: A, b: B): any {\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return (b: B) => f(a, b)\n      default: return f(a, b)\n    }\n  }\n  return curried as any\n}\n\nexport interface Curried3<A, B, C, D> {\n  (): Curried3<A, B, C, D>\n  (a: A): Curried2<B, C, D>\n  (a: A, b: B): (c: C) => D\n  (a: A, b: B, c: C): D\n}\n\nexport function curry3 <A, B, C, D>(f: (a: A, b: B, c: C) => D): Curried3<A, B, C, D> {\n  function curried(a: A, b: B, c: C): any {\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry2((b: B, c: C) => f(a, b, c))\n      case 2: return (c: C) => f(a, b, c)\n      default:return f(a, b, c)\n    }\n  }\n  return curried as any\n}\n\nexport interface Curried4<A, B, C, D, E> {\n  (): Curried4<A, B, C, D, E>\n  (a: A): Curried3<B, C, D, E>\n  (a: A, b: B): Curried2<C, D, E>\n  (a: A, b: B, c: C): (d: D) => E\n  (a: A, b: B, c: C, d: D): E\n}\n\nexport function curry4 <A, B, C, D, E>(f: (a: A, b: B, c: C, d: D) => E): Curried4<A, B, C, D, E> {\n  function curried(a: A, b: B, c: C, d: D): any {\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry3((b: B, c: C, d: D) => f(a, b, c, d))\n      case 2: return curry2((c: C, d: D) => f(a, b, c, d))\n      case 3: return (d: D) => f(a, b, c, d)\n      default:return f(a, b, c, d)\n    }\n  }\n  return curried as any\n}\n"],"names":[],"mappings":"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"}