{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { createFilter, dataToEsm } from '@rollup/pluginutils';\n\nexport default function json(options = {}) {\n  const filter = createFilter(options.include, options.exclude);\n  const indent = 'indent' in options ? options.indent : '\\t';\n\n  return {\n    name: 'json',\n\n    // eslint-disable-next-line no-shadow\n    transform(json, id) {\n      if (id.slice(-5) !== '.json' || !filter(id)) return null;\n\n      try {\n        const parsed = JSON.parse(json);\n        return {\n          code: dataToEsm(parsed, {\n            preferConst: options.preferConst,\n            compact: options.compact,\n            namedExports: options.namedExports,\n            indent\n          }),\n          map: { mappings: '' }\n        };\n      } catch (err) {\n        const message = 'Could not parse JSON file';\n        const position = parseInt(/[\\d]/.exec(err.message)[0], 10);\n        this.warn({ message, id, position });\n        return null;\n      }\n    }\n  };\n}\n"],"names":["const","createFilter","dataToEsm"],"mappings":";;;;AAEe,SAAS,IAAI,CAAC,OAAY,EAAE;mCAAP,GAAG;AAAK;AAC5C,EAAEA,IAAM,MAAM,GAAGC,wBAAY,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;AAChE,EAAED,IAAM,MAAM,GAAG,QAAQ,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;AAC7D;AACA,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,MAAM;AAChB;AACA;AACA,IAAI,6BAAS,CAAC,IAAI,EAAE,EAAE,EAAE;AACxB,MAAM,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAE,OAAO,IAAI,GAAC;AAC/D;AACA,MAAM,IAAI;AACV,QAAQA,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACxC,QAAQ,OAAO;AACf,UAAU,IAAI,EAAEE,qBAAS,CAAC,MAAM,EAAE;AAClC,YAAY,WAAW,EAAE,OAAO,CAAC,WAAW;AAC5C,YAAY,OAAO,EAAE,OAAO,CAAC,OAAO;AACpC,YAAY,YAAY,EAAE,OAAO,CAAC,YAAY;AAC9C,oBAAY,MAAM;AAClB,WAAW,CAAC;AACZ,UAAU,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE;AAC/B,SAAS,CAAC;AACV,OAAO,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQF,IAAM,OAAO,GAAG,2BAA2B,CAAC;AACpD,QAAQA,IAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACnE,QAAQ,IAAI,CAAC,IAAI,CAAC,WAAE,OAAO,MAAE,EAAE,YAAE,QAAQ,EAAE,CAAC,CAAC;AAC7C,QAAQ,OAAO,IAAI,CAAC;AACpB,OAAO;AACP,KAAK;AACL,GAAG,CAAC;AACJ;;;;"}